steps = [
    {"name": "Ready", "function": "SystemCheck"},
    {"name": "Lift", "function": "LiftLoad"},
    {"name": "Move", "function": "MoveToPosition"},
    {"name": "Lower", "function": "LowerLoad"},
    {"name": "Return", "function": "ReturnToBase"},
    {"name": "WatchdogCheck", "function": "MonitorLoadAndPosition"},
    {"name": "WatchdogError", "function": "HaltAndLogFault"},
    ]
transitions = [
    {"src": "Ready", "tgt": "Lift", "guard": "load_detected"},
    {"src": "Lift", "tgt": "Move", "guard": "load_lifted"},
    {"src": "Move", "tgt": "Lower", "guard": "position_reached"},
    {"src": "Lower", "tgt": "Return", "guard": "load_lowered"},
    {"src": "Return", "tgt": "Ready", "guard": "at_base"},
    {"src": "Lift", "tgt": "WatchdogCheck", "guard": "watchdogTriggered"},
    {"src": "Move", "tgt": "WatchdogCheck", "guard": "watchdogTriggered"},
    {"src": "Lower", "tgt": "WatchdogCheck", "guard": "watchdogTriggered"},
    {"src": "WatchdogCheck", "tgt": "WatchdogError", "guard": "faultDetected"},
    {"src": "WatchdogCheck", "tgt": "Ready", "guard": "not faultDetected"},
    ]
variables = ["load_detected", "load_lifted", "position_reached", "load_lowered", "at_base", "watchdogTriggered", "faultDetected", "loadSensor", "positionSensor", "overloadDetected"]
initial_step = "Ready"
