# Generated SFC data
# Extracted from: /home/tanush/BITS/SOP/Antarbhukti-LLM/uploads/job_0/new/Conveyor_System_ControllerSFC2.txt

steps = [
    {'name': 'Idle', 'function': 'WaitForObject'},
    {'name': 'Move', 'function': 'StartConveyor'},
    {'name': 'Stop', 'function': 'StopConveyor'},
    {'name': 'WatchdogCheck', 'function': 'MonitorMotorAndSensors'},
    {'name': 'WatchdogError', 'function': 'StopAndLogFault'},
]

transitions = [
    {'src': 'Idle', 'tgt': 'Move', 'guard': 'objectDetected == true'},
    {'src': 'Move', 'tgt': 'Stop', 'guard': 'positionReached == true'},
    {'src': 'Stop', 'tgt': 'Idle', 'guard': 'objectCleared == true'},
    {'src': 'Idle', 'tgt': 'WatchdogCheck', 'guard': 'watchdogAbnormal == true'},
    {'src': 'Move', 'tgt': 'WatchdogCheck', 'guard': 'watchdogAbnormal == true'},
    {'src': 'Stop', 'tgt': 'WatchdogCheck', 'guard': 'watchdogAbnormal == true'},
    {'src': 'WatchdogCheck', 'tgt': 'WatchdogError', 'guard': 'faultDetected == true'},
    {'src': 'WatchdogCheck', 'tgt': 'Idle', 'guard': 'faultDetected == false'},
]

variables = ['objectDetected', 'positionReached', 'objectCleared', 'watchdogAbnormal', 'faultDetected']

initial_step = 'Idle'
