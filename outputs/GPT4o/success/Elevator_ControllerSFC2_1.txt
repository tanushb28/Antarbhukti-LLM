# Generated SFC data
# Extracted from: /home/tanush/BITS/SOP/Antarbhukti-LLM/outputs/GPT4o/failed/Elevator_ControllerSFC2.txt

steps = [
    {'name': 'Idle', 'function': 'WaitRequest'},
    {'name': 'ValidateInput', 'function': 'ValidateFloorAndDoor'},
    {'name': 'ValidationError', 'function': 'LogAndHalt'},
    {'name': 'MoveUp', 'function': 'ElevatorUp'},
    {'name': 'MoveDown', 'function': 'ElevatorDown'},
    {'name': 'OpenDoor', 'function': 'OpenDoors'},
]

transitions = [
    {'src': 'Idle', 'tgt': 'ValidateInput', 'guard': 'newRequest == true or startup == true'},
    {'src': 'ValidateInput', 'tgt': 'MoveUp', 'guard': 'inputValid == true and requestedFloor > currentFloor'},
    {'src': 'ValidateInput', 'tgt': 'MoveDown', 'guard': 'inputValid == true and requestedFloor < currentFloor'},
    {'src': 'ValidateInput', 'tgt': 'OpenDoor', 'guard': 'inputValid == true and requestedFloor == currentFloor'},
    {'src': 'ValidateInput', 'tgt': 'ValidationError', 'guard': 'inputValid == false'},
    {'src': 'ValidationError', 'tgt': 'Idle', 'guard': 'errorAcknowledged == true'},
    {'src': 'MoveUp', 'tgt': 'OpenDoor', 'guard': 'currentFloor == requestedFloor'},
    {'src': 'MoveDown', 'tgt': 'OpenDoor', 'guard': 'currentFloor == requestedFloor'},
    {'src': 'OpenDoor', 'tgt': 'Idle', 'guard': 'doorTimerElapsed == true'},
    {'src': 'Idle', 'tgt': 'MoveUp', 'guard': 'requestedFloor > currentFloor'},
    {'src': 'Idle', 'tgt': 'MoveDown', 'guard': 'requestedFloor < currentFloor'},
]

variables = ['currentFloor', 'requestedFloor', 'doorTimerElapsed', 'newRequest', 'startup', 'inputValid', 'errorAcknowledged']

initial_step = 'Idle'
