# Generated SFC data
# Extracted from: /home/tanush/BITS/SOP/Antarbhukti-LLM/outputs/GPT4o/failed/Power_Distribution_UnitSFC2.txt

steps = [
    {'name': 'MonitorLoad', 'function': 'ReadPowerUsage()'},
    {'name': 'ValidateInput', 'function': 'ValidateElectricalInputs(voltage, current)'},
    {'name': 'ValidationError', 'function': 'LogAndBlockSwitching'},
    {'name': 'BalanceLoad', 'function': 'RedistributeLoad()'},
    {'name': 'LogStatus', 'function': 'LogCurrentLoad()'},
]

transitions = [
    {'src': 'MonitorLoad', 'tgt': 'ValidateInput', 'guard': 'true'},
    {'src': 'ValidateInput', 'tgt': 'BalanceLoad', 'guard': 'inputsValid == true and load > maxLoad'},
    {'src': 'ValidateInput', 'tgt': 'LogStatus', 'guard': 'inputsValid == true and load <= maxLoad'},
    {'src': 'ValidateInput', 'tgt': 'ValidationError', 'guard': 'inputsValid == false'},
    {'src': 'ValidationError', 'tgt': 'MonitorLoad', 'guard': 'errorAcknowledged == true'},
    {'src': 'BalanceLoad', 'tgt': 'LogStatus', 'guard': 'true'},
    {'src': 'LogStatus', 'tgt': 'MonitorLoad', 'guard': 'true'},
    {'src': 'MonitorLoad', 'tgt': 'BalanceLoad', 'guard': 'load > maxLoad'},
]

variables = ['load', 'maxLoad', 'voltage', 'current', 'inputsValid', 'errorAcknowledged']

initial_step = 'MonitorLoad'
