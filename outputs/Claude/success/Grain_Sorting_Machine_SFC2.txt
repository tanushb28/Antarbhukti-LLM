# Generated SFC data
# Extracted from: /home/tanush/BITS/SOP/Antarbhukti-LLM/uploads/job_3/new/Grain_Sorting_Machine_SFC2.txt

steps = [
    {'name': 'FeedGrain', 'function': 'ActivateFeeder()'},
    {'name': 'SafetyCheckInput', 'function': 'CheckSensorHealth()'},
    {'name': 'SortGrain', 'function': 'StartSorting()'},
    {'name': 'CollectGrain', 'function': 'RouteSortedGrains()'},
    {'name': 'SafetyLog', 'function': 'LogSafetyData(batch_id, defect_rate, safety_metrics)'},
]

transitions = [
    {'src': 'FeedGrain', 'tgt': 'SafetyCheckInput', 'guard': 'grainPresent == True'},
    {'src': 'SafetyCheckInput', 'tgt': 'SortGrain', 'guard': 'sensorsOK == True'},
    {'src': 'SortGrain', 'tgt': 'SafetyLog', 'guard': 'sortingDone == True'},
    {'src': 'SafetyLog', 'tgt': 'CollectGrain', 'guard': 'logSuccess == True'},
    {'src': 'CollectGrain', 'tgt': 'FeedGrain', 'guard': 'True'},
]

variables = ['grainPresent', 'sortingDone', 'sensorsOK', 'batch_id', 'defect_rate', 'safety_metrics', 'logSuccess']

initial_step = 'FeedGrain'
