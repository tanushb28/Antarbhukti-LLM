steps = [
    {"name": "Ready", "function": "SystemCheck"},
    {"name": "Lift", "function": "LiftLoad"},
    {"name": "Move", "function": "MoveToPosition"},
    {"name": "Lower", "function": "LowerLoad"},
    {"name": "Return", "function": "ReturnToBase"},
    {"name": "WatchdogCheck", "function": "MonitorLoadAndPosition"},
    {"name": "WatchdogError", "function": "HaltAndLogFault"},
    ]
transitions = [
    {"src": "Ready", "tgt": "Lift", "guard": "load_detected == true"},
    {"src": "Lift", "tgt": "Move", "guard": "load_lifted == true"},
    {"src": "Move", "tgt": "Lower", "guard": "position_reached == true"},
    {"src": "Lower", "tgt": "Return", "guard": "load_lowered == true"},
    {"src": "Return", "tgt": "Ready", "guard": "at_base == true"},
    {"src": "Lift", "tgt": "WatchdogCheck", "guard": "watchdogTriggered == true and load_lifted != true"},
    {"src": "Move", "tgt": "WatchdogCheck", "guard": "watchdogTriggered == true and position_reached != true"},
    {"src": "Lower", "tgt": "WatchdogCheck", "guard": "watchdogTriggered == true and load_lowered != true"},
    {"src": "WatchdogCheck", "tgt": "WatchdogError", "guard": "faultDetected == true"},
    {"src": "WatchdogCheck", "tgt": "Ready", "guard": "faultDetected == false"},
    ]
variables = ["load_detected", "load_lifted", "position_reached", "load_lowered", "at_base", "watchdogTriggered", "faultDetected", "loadSensor", "positionSensor", "overloadDetected"]
initial_step = "Ready"
